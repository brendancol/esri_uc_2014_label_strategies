<html>
<head>
  <meta charset=utf-8 />
  <title>Basemap with labels</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

  <!-- Load Leaflet from CDN-->
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
  <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>

  <!-- Load Esri Leaflet from CDN -->
  <script src="http://cdn-geoweb.s3.amazonaws.com/esri-leaflet/0.0.1-beta.5/esri-leaflet.js"></script>

  <style>
    body {margin:0;padding:0;}
    #map {position: absolute;top:0;bottom:0;right:0;left:0;}
    #map2 {position: absolute;top:0;bottom:0;right:0;left:0;}
    #map3 {position: absolute;top:0;bottom:0;right:0;left:0;}
    #map4 {position: absolute;top:0;bottom:0;right:0;left:0;}

    .leaflet-container {
      background-color:rgba(255,0,0,0.0);
  }
  .leaflet-control-container {
      display:none;
  }
  </style>
</head>
<body>

<div id="map"></div>
<div id="map2"></div>
<div id="map3"></div>
<div id="map4"></div>

<script>
  var map = L.map('map').setView([37, -90], 8);
  var layer = L.esri.basemapLayer('ImageryLabels')
  layer.setOpacity(0.2);
  layer.addTo(map);

  var map2 = L.map('map2').setView([37, -90], 8);
  var layer2 = L.esri.basemapLayer('ImageryLabels')
  layer2.setOpacity(0.5);
  layer2.addTo(map2);

  var map3 = L.map('map3').setView([37, -90], 8);
  var layer3 = L.esri.basemapLayer('ImageryLabels')
  layer3.setOpacity(0.6);
  layer3.addTo(map3);

  var map4 = L.map('map4').setView([37, -90], 8);
  var layer4 = L.esri.basemapLayer('ImageryLabels')
  layer4.setOpacity(0.4);
  layer4.addTo(map4);

  var bearing = parseInt(Math.random() * 360);
  var position = [37, -90];
  var position2 = [37, -90];
  var position3 = [37, -90];
  var position4 = [37, -90];

  var t = 2.0;

  setInterval(function(){
    console.log(position);
    map.panTo(position, {animate: true, duration: t, easeLinearity: 1.0});
    map2.panTo(position2, {animate: true, duration: t, easeLinearity: 1.0});
    map3.panTo(position3, {animate: true, duration: t, easeLinearity: 1.0});
    map4.panTo(position4, {animate: true, duration: t, easeLinearity: 1.0});

    position[0] = Number((position[0] + .05).toFixed(2));
    position[1] = Number((position[1] + .05).toFixed(2));

    position2[0] = Number((position2[0] - .05).toFixed(2));
    position2[1] = Number((position2[1] - .05).toFixed(2));

    position3[0] = Number((position3[0] + .05).toFixed(2));
    position3[1] = Number((position3[1] - .05).toFixed(2));

    position4[0] = Number((position4[0] - .05).toFixed(2));
    position4[1] = Number((position4[1] + .05).toFixed(2));

    

  }, t * 1000 + 100);


</script>

</body>
</html>